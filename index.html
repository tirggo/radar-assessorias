<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Radar – Horizontes | Instituto SENAI-SP</title>

<style>
  *{margin:0;padding:0;box-sizing:border-box}
  body{
    display:flex;flex-direction:column;min-height:100vh;
    font-family:"Segoe UI",sans-serif;background:#f9f9f9;color:#333;
  }

  /* ===== MENU LATERAL ===== */
  nav.menu{
    position:fixed;top:0;left:0;width:200px;height:100vh;
    background:#f1f5f9;border-right:2px solid #dde1e4;
    padding:1rem 0.6rem 4rem 0.6rem;
    display:flex;flex-direction:column;gap:0.6rem;
    justify-content:flex-start;z-index:100;
  }
  nav.menu h2{
    text-align:center;color:#004080;font-size:1rem;margin-bottom:.7rem;
  }
  nav.menu a{
    display:block;text-decoration:none;text-align:center;
    padding:0.6rem;background:#e2e8f0;border-radius:6px;
    color:#333;font-weight:500;transition:all .2s;
  }
  nav.menu a:hover{background:#cbd5e1;transform:translateX(3px)}
  nav.menu .voltar{
    margin-top:auto;
    background:#004080;color:#fff;font-weight:bold;
    border-radius:8px;padding:0.8rem;text-align:center;
    box-shadow:0 2px 4px rgba(0,0,0,0.15);
  }
  nav.menu .voltar:hover{background:#003366;transform:none;}

  /* ===== CABEÇALHO ===== */
  header{
    background:#004080;color:#fff;
    display:flex;justify-content:space-between;align-items:center;
    padding:1rem 2rem;margin-left:200px;
    font-weight:bold;
  }
  header img{
    height:48px;width:auto;
  }

  /* ===== CONTEÚDO ===== */
  main{
    flex:1;padding:2rem;margin-left:200px;
  }

  footer{
    background:#eee;color:#555;text-align:center;font-size:.85rem;
    padding:1rem;margin-left:200px;
  }

  @media(max-width:700px){
    nav.menu{position:relative;width:100%;height:auto;flex-direction:row;
      border-right:none;border-bottom:2px solid #dde1e4;justify-content:center;}
    header,main,footer{margin-left:0}
    nav.menu .voltar{margin-top:0}
  }

  /* ===== RADAR PANEL ===== */
  .panel{
    background:#fff;border:1px solid #e0e0e0;border-radius:10px;
    padding:16px;box-shadow:0 4px 10px rgba(0,0,0,.05);
  }

  #chart{width:100%;height:780px}

  .toolbar{
    display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin:12px 0 8px;
  }

  .toolbar button{
    padding:8px 10px;border-radius:8px;border:1px solid #c9ced6;
    background:#fff;cursor:pointer;
  }
  .toolbar button.h1{border-color:#d81e05;color:#d81e05}
  .toolbar button.h2{border-color:#005fb8;color:#005fb8}
  .toolbar button.h3{border-color:#006400;color:#006400}

  .toolbar input[type='text']{
    padding:8px 10px;border-radius:8px;border:1px solid #c9ced6;
    min-width:260px;margin-top:8px;
  }
  .toolbar-group{
    display:flex;flex-wrap:wrap;gap:8px;align-items:center;width:100%;
  }
  .toolbar-group strong{font-size:14px;color:#5b6573;margin-left:4px;}

  .legend{
    display:flex;gap:10px;font-size:12px;color:#374151;margin-bottom:6px
  }
  .badge{display:inline-flex;align-items:center;gap:6px}
  .badge i{
    display:inline-block;width:12px;height:12px;border-radius:3px
  }

  .meta{color:#5b6573;font-size:12px;margin-top:8px}
</style>
</head>

<body>
<!-- MENU LATERAL -->
<nav class="menu">
  <h2>MENU</h2>
  <a href="https://tirggo.github.io/radar-assessorias/" target="_blank">Horizontes</a>
  <a href="#" id="btnShowAll">Mostrar Todos</a>
  <a href="#" id="btnHideAll">Ocultar Todos</a>
  <a href="#" id="btnTop10">Top 10</a>
  <a href="#" id="btnH1" class="h1">Filtrar H1</a>
  <a href="#" id="btnH2" class="h2">Filtrar H2</a>
  <a href="#" id="btnH3" class="h3">Filtrar H3</a>

  <!-- Botão Voltar fixo -->
  <a href="https://tirggo.github.io/" class="voltar">⟵ Voltar</a>
</nav>

<!-- CABEÇALHO -->
<header>
  <span>INSTITUTO SENAI DE TECNOLOGIA DA CONSTRUÇÃO CIVIL - SENAI-SP</span>
  <img src="dt_senai.png" alt="Logo Distrito Tecnológico SENAI-SP">
</header>

<main>
  <div class="panel">
    <div class="legend">
      <span class="badge"><i style="background:#d81e05"></i>H1</span>
      <span class="badge"><i style="background:#005fb8"></i>H2</span>
      <span class="badge"><i style="background:linear-gradient(135deg,#006400,#00a000)"></i>H3</span>
    </div>

    <div class="toolbar">
      <div class="toolbar-group">
        <strong>Grupos:</strong>
        <button id="btnG1">G1</button><button id="btnG2">G2</button><button id="btnG3">G3</button>
        <button id="btnG4">G4</button><button id="btnG5">G5</button><button id="btnG6">G6</button>
      </div>
      <div class="toolbar-group">
        <strong>Tipos:</strong>
        <button id="btnASD">ASD</button><button id="btnPDI">PDI</button><button id="btnMTG">MTG</button>
      </div>
      <input id="search" type="text" placeholder="Filtrar por nome do projeto…" />
    </div>

    <div id="chart"></div>
    <div class="meta">• Clique na legenda para ligar/desligar cada projeto. • Eixo radial: 0–5.</div>
  </div>
</main>

<footer>
  <strong>Distrito Tecnológico do SENAI-SP</strong><br>
  Desenvolvido pelo Distrito Tecnológico do SENAI-SP — Unidade São Bernardo do Campo<br>
  © 2025 | Infográfico público para fins institucionais e educacionais
</footer>

<!-- Plotly -->
<script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>

<script>
// === DADOS DO RADAR ===
const criteria=["Complexidade","Know-How","Abrangência","Relevância","Retorno"];
const projects=[
 "1 - Ensaios de Resistência e Reação ao Fogo","2 - Ensaios Acústicos e de Estanqueidade",
 "3 - Valorização de Lodo de ETE","4 - Materiais Sustentáveis","5 - Canteiro Lean",
 "6 - Construção Modular","7 - BioConstrução","8 - Gestão Preditiva",
 "9 - Gêmeo Digital Lite","10 - Gestão Inteligente da Água",
 "11 - Tecnologias em Infraestrutura","12 - Desempenho Energético","13 - Smart Cities",
 "14 - Conecta Canteiro 4.0","15 - Gêmeos Digitais","16 - Construção Modular Avançada",
 "17 - Superfícies Permeáveis","18 - PCV-Concreto","19 - Casa Inteligente",
 "20 - Monitoramento Digital","21 - Gestão Hídrica Inteligente","22 - Simulador NBR15575"
];
const vals=[
 [4,5,5,3,4],[4,3,4,3,4],[5,3,3,3,4],[5,3,3,3,3],[5,3,3,3,3],
 [5,3,2,3,4],[5,3,2,4,3],[3,3,4,3,3],[3,3,3,3,4],[2,3,4,3,4],
 [3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[2,3,3,3,4],
 [3,3,2,3,3],[2,3,4,3,2],[2,4,3,3,2],[2,3,3,3,2],[1,4,4,3,1],
 [1,3,4,3,1],[1,3,2,3,1]
];
const colors=[
 "#d81e05","#d81e05","#d81e05","#d81e05","#d81e05","#d81e05","#d81e05","#005fb8","#005fb8","#006400",
 "#d81e05","#005fb8","#005fb8","#005fb8","#005fb8","#005fb8","#005fb8","#005fb8","#005fb8","#006400",
 "#005fb8","#005fb8"
];
const grupos=[4,4,6,6,5,3,6,5,2,1,1,4,2,5,2,3,6,6,2,2,1,4];
const tipos=["MTG","MTG","PDI","ASD","ASD","ASD","ASD","ASD","ASD","PDI","ASD","ASD","ASD","ASD","ASD","PDI","PDI","PDI","ASD","PDI","PDI","PDI"];
const theta=criteria.concat([criteria[0]]);

// === DESENHO DO RADAR ===
function build(){
  const traces=projects.map((n,i)=>{
    const r0=vals[i],r=r0.concat([r0[0]]);
    let color=colors[i];
    // Degradê sutil para H3
    let fillColor=(color==="#006400")?"rgba(0,100,0,0.25)":"#00000000";
    return{
      type:"scatterpolar",r,theta,name:n,fill:"toself",
      opacity:0.3,line:{width:1,color:color},
      fillcolor:fillColor
    };
  });
  const layout={margin:{l:30,r:30,t:10,b:10},showlegend:true,
    polar:{radialaxis:{range:[0,5],dtick:1}}
  };
  Plotly.newPlot("chart",traces,layout,{responsive:true,displaylogo:false});
}
build();

// === FILTROS ===
const idx=[...Array(projects.length).keys()];
const filterBy=(arr,val)=>{
  Plotly.restyle("chart","visible",arr.map(v=>v===val?true:"legendonly"));
};
document.getElementById("btnShowAll").onclick=()=>Plotly.restyle("chart","visible",true,idx);
document.getElementById("btnHideAll").onclick=()=>Plotly.restyle("chart","visible","legendonly",idx);
document.getElementById("btnTop10").onclick=()=>{
  Plotly.restyle("chart","visible","legendonly",idx);
  Plotly.restyle("chart","visible",true,idx.slice(0,10));
};
document.getElementById("btnH1").onclick=()=>filterBy(colors,"#d81e05");
document.getElementById("btnH2").onclick=()=>filterBy(colors,"#005fb8");
document.getElementById("btnH3").onclick=()=>filterBy(colors,"#006400");
["G1","G2","G3","G4","G5","G6"].forEach((g,i)=>document.getElementById("btn"+g).onclick=()=>filterBy(grupos,i+1));
["ASD","PDI","MTG"].forEach(t=>document.getElementById("btn"+t).onclick=()=>filterBy(tipos,t));
document.getElementById("search").addEventListener("input",e=>{
  const q=e.target.value.toLowerCase().trim();
  Plotly.restyle("chart","visible",idx.map(i=>projects[i].toLowerCase().includes(q)?true:"legendonly"));
});
</script>
</body>
</html>
