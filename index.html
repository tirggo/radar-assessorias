<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Radar ‚Äì Portf√≥lio de Assessorias (V06)</title>
<style>
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    background:#f9f9f9;
    color:#333;
    min-height:100vh;
  }

  /* ===== MENU ===== */
  nav.menu{
    position:fixed;top:0;left:0;width:200px;height:100vh;
    background:#f1f5f9;border-right:2px solid #dde1e4;
    padding:10px 8px;display:flex;flex-direction:column;
    gap:6px;overflow-y:auto;z-index:100;
  }
  nav.menu h2{
    text-align:center;color:#004080;font-size:.9rem;
    margin:8px 0 4px;font-weight:bold;
  }
  nav.menu button, nav.menu a{
    display:block;text-align:center;width:100%;border:none;cursor:pointer;
    padding:.5rem;border-radius:6px;border:1px solid #cbd5e1;
    background:#fff;font-weight:bold;color:#1f2937;font-size:.85rem;
    transition:box-shadow .15s,transform .15s;
  }
  nav.menu button:hover{transform:translateX(2px);box-shadow:0 0 6px rgba(0,0,0,.15);}
  nav.menu .voltar{
    margin-top:auto;background:#004080;color:#fff;border:none;
  }

  /* ===== CABE√áALHO / RODAP√â ===== */
  header, footer{
    margin-left:200px;background:#004080;color:#fff;
    padding:10px 16px;font-weight:600;
  }
  footer{
    background:#eee;color:#555;font-weight:400;text-align:center;
  }
  main{margin-left:200px;padding:16px;}
  .panel{
    background:#fff;border:1px solid #e0e0e0;border-radius:10px;
    padding:12px;
  }

  /* ===== LEGENDAS ===== */
  .legend{display:flex;gap:10px;font-size:12px;color:#374151;margin:6px 0;}
  .badge{display:inline-flex;align-items:center;gap:6px}
  .badge i{width:12px;height:12px;border-radius:3px;display:inline-block;}
  #chart{width:100%;height:780px;}

  /* ===== R√ìTULO ATIVO ===== */
  #filtroAtivo{
    text-align:center;font-weight:700;margin:4px 0 10px;
    font-size:1rem;color:#444;opacity:1;transition:opacity .8s ease;
  }
  #filtroAtivo.fade-out{opacity:0;}

  /* ===== LINHAS DE BOT√ïES ===== */
  .row{display:flex;justify-content:space-between;gap:4px;}
  .row button{flex:1;padding:8px;font-size:.8rem;border-radius:6px;}

  /* ===== CORES DOS BOT√ïES ===== */
  #btnH1{background:#d81e05;color:#fff;}
  #btnH2{background:#005fb8;color:#fff;}
  #btnH3{background:#006400;color:#fff;}
  #btnASD{background:#2e8b57;color:#fff;}
  #btnPDI{background:#1e90ff;color:#fff;}
  #btnMTG{background:#f4a300;color:#fff;}

  body.full nav.menu{transform:translateX(-220px);}
  body.full header, body.full footer{display:none;}
  body.full main{margin-left:0;padding:8px;}
  body.full #chart{height:90vh;}
</style>
</head>
<body>

<!-- MENU LATERAL -->
<nav class="menu" id="sideMenu">
  <h2>MENU</h2>
  <button id="btnShowAll">Mostrar Todos</button>
  <button id="btnHideAll">Ocultar Todos</button>
  <button id="btnPresentation">Modo Apresenta√ß√£o</button>

  <h2>Horizontes</h2>
  <div class="row">
    <button id="btnH1">H1</button>
    <button id="btnH2">H2</button>
    <button id="btnH3">H3</button>
  </div>

  <h2>Grupos</h2>
  <button id="btnG1">üèóÔ∏è Obras de Infraestrutura</button>
  <button id="btnG2">üíª Digitaliza√ß√£o da Constru√ß√£o</button>
  <button id="btnG3">üè† Constru√ß√£o Industrializada</button>
  <button id="btnG4">üîä Desempenho, Seguran√ßa, Conforto Ac√∫stico e T√©rmico</button>
  <button id="btnG5">üß∞ Servi√ßos para Construtoras</button>
  <button id="btnG6">üåø Materiais Sustent√°veis</button>

  <h2>Tipos</h2>
  <div class="row">
    <button id="btnASD">ASD</button>
    <button id="btnPDI">PDI</button>
    <button id="btnMTG">MTG</button>
  </div>

  <a href="https://tirggo.github.io/home-page/#" class="voltar">‚üµ Voltar</a>
</nav>

<header>
  <span>INSTITUTO SENAI DE TECNOLOGIA DA CONSTRU√á√ÉO CIVIL - SENAI-SP</span>
</header>

<main>
  <div class="panel">
    <div id="filtroAtivo"></div>
    <div class="legend">
      <span class="badge"><i style="background:#d81e05"></i>H1</span>
      <span class="badge"><i style="background:#005fb8"></i>H2</span>
      <span class="badge"><i style="background:#006400"></i>H3</span>
    </div>
    <div id="chart"></div>
  </div>
</main>

<footer>
  <strong>Distrito Tecnol√≥gico do SENAI-SP</strong><br>
  Desenvolvido pelo Distrito Tecnol√≥gico do SENAI-SP ‚Äî Unidade S√£o Bernardo do Campo<br>
  ¬© 2025 | Infogr√°fico p√∫blico para fins institucionais e educacionais
</footer>

<!-- === PLOTLY === -->
<script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
<script>
(function(){
  const criteria=["Complexidade","Know-How","Abrang√™ncia","Relev√¢ncia","Retorno"];
  const projects=[
    "1 - Ensaios de Resist√™ncia e Rea√ß√£o ao Fogo em Sistemas Construtivos Comerciais e Industriais",
    "2 - Ensaios Ac√∫sticos e de Estanqueidade para Edifica√ß√µes Comerciais, Educacionais e de Sa√∫de",
    "3 - Rota Tecnol√≥gica para Valoriza√ß√£o de Lodo de ETE em produtos de constru√ß√£o",
    "4 - An√°lise e Especifica√ß√£o de Materiais Sustent√°veis e de Baixo Carbono para empreendimentos",
    "5 - Assessoria em canteiro Lean Otimizado",
    "6 - Assessoria para criacao de processos otimizados de implementa√ß√£o de constru√ß√£o modular e pr√©-fabricada",
    "7 - Assessoria para analise e valida√ß√£o de Materiais Sustent√°veis e BioConstru√ß√£o",
    "8 - Assessoria em gest√£o de Ativos Preditiva (GAP)",
    "9 - Assessoria para G√™meo Digital \"Lite\" para Otimiza√ß√£o de ProcessOS em PMEs da Constru√ß√£o Civil",
    "10 - Gest√£o Inteligente da √Ågua em Obras UrbanAS",
    "11 - Assessoria para ado√ß√£o de tecnologias digitais para Obras de Infraestruturas",
    "12 - Assessoria em Desempenho Energ√©tico e H√≠drico com Foco em Resfriamento Passivo",
    "13 - Assessoria de Smart Cities para get√£o de grandes de obra",
    "14 - Assessoria em Conecta Canteiro 4.0",
    "15 - Assessoria para G√™meos Digitais para Gest√£o H√≠drica e de Energia",
    "16 - Desenvolver tecnologias e processos de constru√ß√£o modular e pr√©-fabricada para aumentar a produtividade",
    "17 - Desenvolver um sistema de Superf√≠cies Perme√°veis Inteligentes para Resili√™ncia Urbana (Smart Permeable Surfaces)",
    "18 - Sistema Construtivo PCV-Concreto com Pol√≠meros Sustent√°veis",
    "19 - Assessoria para projetos de casa Inteligente em Condom√≠nios",
    "20 - Plataforma para o Monitoramento Cont√≠nuo via G√™meos Digitais para Normas de Desempenhos",
    "21 - Sistema Inteligente de Gest√£o H√≠drica e Capta√ß√£o e Reuso da √°gua pluvial urbano integrado",
    "22 - PDI: Simulador Digital de Desempenho T√©rmico e Ac√∫stico Integrado √† NBR 15575"
  ];
  const vals=[
    [4,5,5,3,4],[4,3,4,3,4],[5,3,3,3,4],[5,3,3,3,3],[5,3,3,3,3],
    [5,3,2,3,4],[5,3,2,4,3],[3,3,4,3,3],[3,3,3,3,4],[2,3,4,3,4],
    [3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[2,3,3,3,4],
    [3,3,2,3,3],[2,3,4,3,2],[2,4,3,3,2],[2,3,3,3,2],[1,4,4,3,1],
    [1,3,4,3,1],[1,3,2,3,1]
  ];
  const colors=[
    "#d81e05","#d81e05","#d81e05","#d81e05","#d81e05","#d81e05","#d81e05","#005fb8","#005fb8","#006400",
    "#d81e05","#005fb8","#005fb8","#005fb8","#005fb8","#005fb8","#005fb8","#005fb8","#005fb8","#006400",
    "#005fb8","#005fb8"
  ];
  const grupos=[1,4,6,6,5,3,6,5,2,1,1,4,2,5,2,3,6,6,2,2,1,4];
  const tipos=["MTG","MTG","PDI","ASD","ASD","ASD","ASD","ASD","ASD","PDI","ASD","ASD","ASD","ASD","ASD","PDI","PDI","PDI","ASD","PDI","PDI","PDI"];

  const theta=criteria.concat([criteria[0]]);
  const traces=projects.map((n,i)=>{
    const r=vals[i].concat([vals[i][0]]);
    return {type:'scatterpolar',r,theta,name:n,fill:'toself',opacity:0.3,line:{width:1,color:colors[i]},fillcolor:colors[i]+'33'};
  });
  Plotly.newPlot('chart',traces,{showlegend:true,polar:{radialaxis:{range:[0,5],dtick:1}},margin:{l:30,r:30,t:10,b:10}},{responsive:true,displaylogo:false});

  const filtroAtivo=document.getElementById('filtroAtivo');
  const setLabel=(txt,cor)=>{
    filtroAtivo.classList.add('fade-out');
    setTimeout(()=>{filtroAtivo.textContent=txt||'';filtroAtivo.style.color=cor||'#444';filtroAtivo.classList.remove('fade-out');},250);
  };
  const updateVisible=(arr,cond)=>{Plotly.restyle('chart','visible',arr.map(v=>v===cond?true:'legendonly'));}
  const on=(id,fn)=>document.getElementById(id)?.addEventListener('click',e=>{e.preventDefault();fn();});

  // === Filtros Gerais ===
  on('btnShowAll',()=>{Plotly.restyle('chart','visible',true);setLabel('',null);});
  on('btnHideAll',()=>Plotly.restyle('chart','visible','legendonly'));

  // === Horizontes ===
  on('btnH1',()=>{updateVisible(colors,'#d81e05');setLabel('Horizonte 1 ‚Äì Curto Prazo','#d81e05');});
  on('btnH2',()=>{updateVisible(colors,'#005fb8');setLabel('Horizonte 2 ‚Äì M√©dio Prazo','#005fb8');});
  on('btnH3',()=>{updateVisible(colors,'#006400');setLabel('Horizonte 3 ‚Äì Longo Prazo','#006400');});

  // === Grupos ===
  on('btnG1',()=>{updateVisible(grupos,1);setLabel('Obras de Infraestrutura','#333');});
  on('btnG2',()=>{updateVisible(grupos,2);setLabel('Digitaliza√ß√£o da Constru√ß√£o','#333');});
  on('btnG3',()=>{updateVisible(grupos,3);setLabel('Constru√ß√£o Industrializada','#333');});
  on('btnG4',()=>{updateVisible(grupos,4);setLabel('Desempenho, Seguran√ßa, Conforto Ac√∫stico e T√©rmico','#333');});
  on('btnG5',()=>{updateVisible(grupos,5);setLabel('Servi√ßos para Construtoras','#333');});
  on('btnG6',()=>{updateVisible(grupos,6);setLabel('Materiais Sustent√°veis','#333');});

  // === Tipos ===
  on('btnASD',()=>{updateVisible(tipos,'ASD');setLabel('Assessoria Direta','#2e8b57');});
  on('btnPDI',()=>{updateVisible(tipos,'PDI');setLabel('Pesquisa, Desenvolvimento e Inova√ß√£o','#1e90ff');});
  on('btnMTG',()=>{updateVisible(tipos,'MTG');setLabel('Metrologia','#f4a300');});

  // === Modo Apresenta√ß√£o ===
  on('btnPresentation',()=>{
    const body=document.body;
    if(!body.classList.contains('full')){
      body.classList.add('full');
      Plotly.relayout('chart',{showlegend:false});
      (document.documentElement.requestFullscreen||(()=>{}))();
    } else {
      body.classList.remove('full');
      Plotly.relayout('chart',{showlegend:true});
      (document.exitFullscreen||(()=>{}))();
    }
  });
  document.addEventListener('keydown',e=>{
    if(e.key==='Escape'&&document.body.classList.contains('full')){
      document.body.classList.remove('full');
      Plotly.relayout('chart',{showlegend:true});
      (document.exitFullscreen||(()=>{}))();
    }
  });
})();
</script>
</body>
</html>
