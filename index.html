<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Radar – Horizontes | Instituto SENAI-SP</title>

<style>
  *{margin:0;padding:0;box-sizing:border-box}
  body{
    font-family:"Segoe UI",sans-serif;
    background:#f9f9f9;color:#333;
    overflow-x:hidden;
    min-height:100vh;
  }

  /* ===== LOADER ===== */
  #loader {
    position:fixed;top:0;left:0;width:100%;height:100vh;
    background:linear-gradient(180deg,#004080 0%,#0a589b 100%);
    display:flex;flex-direction:column;align-items:center;justify-content:center;
    color:#fff;z-index:1000;
    animation:fadeIn 0.8s ease both;
  }
  #loader img {
    height:90px;width:auto;margin-bottom:16px;
    filter:drop-shadow(0 0 8px rgba(255,255,255,0.6));
    animation:pulse 2s infinite ease-in-out;
  }
  #loader span {
    font-size:1rem;letter-spacing:0.5px;
  }

  @keyframes fadeOut {from{opacity:1} to{opacity:0;visibility:hidden}}
  @keyframes fadeIn {from{opacity:0} to{opacity:1}}
  @keyframes pulse {
    0%,100%{transform:scale(1);opacity:1;}
    50%{transform:scale(1.05);opacity:0.85;}
  }
  @keyframes fadeSlideIn {
    0% {opacity:0;transform:translateY(10px);}
    100% {opacity:1;transform:translateY(0);}
  }

  /* ===== MENU LATERAL ===== */
  nav.menu{
    position:fixed;top:0;left:0;width:200px;height:100vh;
    background:#f1f5f9;border-right:2px solid #dde1e4;
    padding:1rem 0.6rem 4rem 0.6rem;
    display:flex;flex-direction:column;gap:0.6rem;
    justify-content:flex-start;z-index:100;
    animation:fadeSlideIn 0.8s ease 0.2s both;
  }
  nav.menu h2{
    text-align:center;color:#004080;font-size:1rem;margin-bottom:.7rem;
  }
  nav.menu a{
    display:block;text-decoration:none;text-align:center;
    padding:0.6rem;border-radius:6px;
    color:#333;font-weight:500;transition:all .2s;
  }
  nav.menu a:hover{transform:translateX(3px)}

  /* === Cores dos botões H1, H2, H3 no MENU === */
  nav.menu a.h1{background:#d81e05 !important;color:#fff !important;}
  nav.menu a.h1:hover{background:#ff5b3c !important;box-shadow:0 0 8px rgba(216,30,5,0.5);}
  nav.menu a.h2{background:#005fb8 !important;color:#fff !important;}
  nav.menu a.h2:hover{background:#1e90ff !important;box-shadow:0 0 8px rgba(0,95,184,0.5);}
  nav.menu a.h3{background:#006400 !important;color:#fff !important;}
  nav.menu a.h3:hover{background:#00a000 !important;box-shadow:0 0 8px rgba(0,100,0,0.5);}

  nav.menu .voltar{
    margin-top:auto;
    background:#004080;color:#fff;font-weight:bold;
    border-radius:8px;padding:0.8rem;text-align:center;
    box-shadow:0 2px 4px rgba(0,0,0,0.15);
  }
  nav.menu .voltar:hover{
    background:#003366;
    box-shadow:0 0 10px rgba(0,64,128,0.6);
    transform:none;
  }

  /* ===== CABEÇALHO ===== */
  header{
    background:#004080;color:#fff;
    display:flex;justify-content:space-between;align-items:center;
    padding:0.5rem 2rem;margin-left:200px;
    height:70px;
    animation:fadeSlideIn 1s ease 0.8s both;
  }
  header span{font-weight:bold;font-size:1rem;}
  header a.logo-link img{height:70px;width:auto;}

  /* ===== CONTEÚDO ===== */
  main{flex:1;padding:2rem;margin-left:200px;animation:fadeSlideIn 1s ease 1s both;}
  .panel{
    background:#fff;border:1px solid #e0e0e0;border-radius:10px;
    padding:16px;box-shadow:0 4px 10px rgba(0,0,0,.05);
    animation:fadeSlideIn 1s ease 1.4s both;
  }
  #chart{width:100%;height:780px;animation:fadeSlideIn 1s ease 2s both;}

  .legend{
    display:flex;gap:10px;font-size:12px;color:#374151;margin-bottom:6px;
    opacity:0;animation:fadeIn 1s ease 1.6s forwards;
  }
  .badge{display:inline-flex;align-items:center;gap:6px}
  .badge i{width:12px;height:12px;border-radius:3px}

  footer{
    background:#eee;color:#555;text-align:center;font-size:.85rem;
    padding:1rem;margin-left:200px;
    animation:fadeSlideIn 1s ease 2.2s both;
  }

  .meta{color:#5b6573;font-size:12px;margin-top:8px}
</style>
</head>

<body>
<!-- LOADER -->
<div id="loader">
  <img src="dt_senai.png" alt="Logo Distrito Tecnológico SENAI-SP">
  <span>Carregando <strong>Radar – Horizontes...</strong></span>
</div>

<!-- MENU -->
<nav class="menu">
  <h2>MENU</h2>
  <a href="https://tirggo.github.io/radar-assessorias/" target="_blank">Horizontes</a>
  <a href="#" id="btnShowAll">Mostrar Todos</a>
  <a href="#" id="btnHideAll">Ocultar Todos</a>
  <a href="#" id="btnTop10">Top 10</a>
  <a href="#" id="btnH1" class="h1">Filtrar H1</a>
  <a href="#" id="btnH2" class="h2">Filtrar H2</a>
  <a href="#" id="btnH3" class="h3">Filtrar H3</a>
  <a href="https://tirggo.github.io/home-page/#" class="voltar">⟵ Voltar</a>
</nav>

<!-- CABEÇALHO -->
<header>
  <span>INSTITUTO SENAI DE TECNOLOGIA DA CONSTRUÇÃO CIVIL - SENAI-SP</span>
  <a href="https://tirggo.github.io/home-page/#" class="logo-link">
    <img src="dt_senai.png" alt="Logo Distrito Tecnológico SENAI-SP">
  </a>
</header>

<!-- CONTEÚDO -->
<main>
  <div class="panel">
    <div class="legend">
      <span class="badge"><i style="background:linear-gradient(135deg,#d81e05,#ff5b3c)"></i>H1</span>
      <span class="badge"><i style="background:linear-gradient(135deg,#005fb8,#1e90ff)"></i>H2</span>
      <span class="badge"><i style="background:linear-gradient(135deg,#006400,#00a000)"></i>H3</span>
    </div>
    <div id="chart"></div>
    <div class="meta">• Clique na legenda para ligar/desligar cada projeto. • Eixo radial: 0–5.</div>
  </div>
</main>

<footer>
  <strong>Distrito Tecnológico do SENAI-SP</strong><br>
  Desenvolvido pelo Distrito Tecnológico do SENAI-SP — Unidade São Bernardo do Campo<br>
  © 2025 | Infográfico público para fins institucionais e educacionais
</footer>

<!-- Plotly -->
<script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
<script>
window.addEventListener("load", () => {
  const loader = document.getElementById("loader");
  loader.style.animation = "fadeOut 0.8s ease forwards";
  setTimeout(() => loader.remove(), 800);
  setTimeout(buildRadar, 900);
});

function buildRadar(){
  const criteria=["Complexidade","Know-How","Abrangência","Relevância","Retorno"];
  const projects=["1 - Ensaios de Resistência","2 - Ensaios Acústicos","3 - Valorização de Lodo","4 - Materiais Sustentáveis","5 - Canteiro Lean",
    "6 - Construção Modular","7 - BioConstrução","8 - Gestão Preditiva","9 - Gêmeo Digital","10 - Gestão Hídrica"];
  const vals=[[4,5,5,3,4],[4,3,4,3,4],[5,3,3,3,4],[5,3,3,3,3],[5,3,3,3,3],[5,3,2,3,4],[5,3,2,4,3],[3,3,4,3,3],[3,3,3,3,4],[2,3,4,3,4]];
  const colors=["#d81e05","#d81e05","#d81e05","#005fb8","#005fb8","#005fb8","#006400","#006400","#006400","#006400"];
  const theta=criteria.concat([criteria[0]]);

  const traces=projects.map((n,i)=>{
    const r0=vals[i],r=r0.concat([r0[0]]);
    return{
      type:"scatterpolar",r,theta,name:n,fill:"toself",
      opacity:0.3,line:{width:1,color:colors[i]},fillcolor:colors[i]+"33"
    };
  });

  const layout={
    margin:{l:30,r:30,t:10,b:10},showlegend:true,
    polar:{radialaxis:{range:[0,5],dtick:1}}
  };
  Plotly.newPlot("chart",traces,layout,{responsive:true,displaylogo:false});

  // === Filtros corrigidos ===
  document.getElementById("btnShowAll").onclick=()=>Plotly.restyle("chart","visible",true);
  document.getElementById("btnHideAll").onclick=()=>Plotly.restyle("chart","visible","legendonly");
  document.getElementById("btnTop10").onclick=()=>Plotly.restyle("chart","visible",true,[...Array(10).keys()]);
  const filterByColor=(color)=>{
    const visibles=colors.map(c=>c===color);
    Plotly.restyle("chart","visible",visibles);
  };
  document.getElementById("btnH1").onclick=()=>filterByColor("#d81e05");
  document.getElementById("btnH2").onclick=()=>filterByColor("#005fb8");
  document.getElementById("btnH3").onclick=()=>filterByColor("#006400");
}
</script>
</body>
</html>
