<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Radar ‚Äì Horizontes | Instituto SENAI-SP</title>

<style>
  *{margin:0;padding:0;box-sizing:border-box}
  body{
    font-family:"Segoe UI",sans-serif;
    background:#f9f9f9;color:#333;
    overflow-x:hidden;
    min-height:100vh;
    transition:margin-left 0.6s ease;
  }

  /* ===== LOADER ===== */
  #loader {
    position:fixed;top:0;left:0;width:100%;height:100vh;
    background:linear-gradient(180deg,#004080 0%,#0a589b 100%);
    display:flex;flex-direction:column;align-items:center;justify-content:center;
    color:#fff;z-index:1000;
  }
  #loader img {height:90px;width:auto;margin-bottom:16px;filter:drop-shadow(0 0 8px rgba(255,255,255,0.6));animation:pulse 2s infinite ease-in-out;}
  #loader span {font-size:1rem;letter-spacing:0.5px;}
  @keyframes pulse {0%,100%{transform:scale(1);opacity:1;}50%{transform:scale(1.05);opacity:0.85;}}
  @keyframes fadeOut {from{opacity:1}to{opacity:0;visibility:hidden}}

  /* ===== MENU ===== */
  nav.menu{
    position:fixed;top:0;left:0;width:240px;height:100vh;
    background:#f1f5f9;border-right:2px solid #dde1e4;
    padding:1rem 0.8rem 4rem 0.8rem;
    display:flex;flex-direction:column;gap:0.6rem;
    z-index:100;
    transition:transform 0.6s ease;
  }
  nav.menu.hidden {transform:translateX(-260px);}
  nav.menu h2{text-align:center;color:#004080;font-size:1rem;margin-top:.6rem;margin-bottom:.6rem;}
  nav.menu a, nav.menu input{
    display:block;text-align:center;
    padding:0.6rem;border-radius:6px;margin-bottom:0.4rem;
    font-weight:500;transition:all .2s;width:100%;
    border:1px solid #cbd5e1;background:#fff;
  }
  nav.menu a:hover{transform:translateX(3px);box-shadow:0 0 6px rgba(0,0,0,0.15);}
  nav.menu a.h1{background:linear-gradient(135deg,#d81e05,#ff5b3c);color:#fff;border:none;}
  nav.menu a.h2{background:linear-gradient(135deg,#005fb8,#1e90ff);color:#fff;border:none;}
  nav.menu a.h3{background:linear-gradient(135deg,#006400,#00a000);color:#fff;border:none;}
  nav.menu input[type="text"]{border:1px solid #cbd5e1;border-radius:6px;padding:0.5rem;font-size:0.9rem;margin-top:8px;}
  nav.menu .voltar{margin-top:auto;background:#004080;color:#fff;font-weight:bold;border-radius:8px;padding:0.8rem;text-align:center;box-shadow:0 2px 4px rgba(0,0,0,0.15);}
  nav.menu .voltar:hover{background:#003366;box-shadow:0 0 10px rgba(0,64,128,0.6);}

  /* ===== CABE√áALHO ===== */
  header{
    background:#004080;color:#fff;
    display:flex;justify-content:space-between;align-items:center;
    padding:0.5rem 2rem;margin-left:240px;height:70px;
    transition:margin-left 0.6s ease;
  }
  body.full header{margin-left:0;}
  header span{font-weight:bold;font-size:1rem;}
  header a.logo-link img{height:70px;width:auto;}
  header button{
    background:#fff;color:#004080;border:none;padding:0.5rem 1rem;
    border-radius:6px;font-weight:bold;cursor:pointer;transition:all .3s;
  }
  header button:hover{background:#cbd5e1;color:#00264d;box-shadow:0 0 8px rgba(255,255,255,0.4);}
  header .controls {display:flex;gap:8px;align-items:center;}

  /* ===== CONTE√öDO ===== */
  main{flex:1;padding:2rem;margin-left:240px;transition:margin-left 0.6s ease;}
  body.full main{margin-left:0;}
  .panel{background:#fff;border:1px solid #e0e0e0;border-radius:10px;padding:16px;box-shadow:0 4px 10px rgba(0,0,0,.05);}
  #chart{width:100%;height:850px;}
  .legend{display:flex;gap:10px;font-size:12px;color:#374151;margin-bottom:6px;}
  .badge{display:inline-flex;align-items:center;gap:6px}
  .badge i{width:12px;height:12px;border-radius:3px}
  footer{background:#eee;color:#555;text-align:center;font-size:.85rem;padding:1rem;margin-left:240px;transition:margin-left 0.6s ease;}
  body.full footer{margin-left:0;}
  .meta{color:#5b6573;font-size:12px;margin-top:8px}

  /* ===== BOT√ÉO FLUTUANTE ===== */
  #exitPresentation{
    position:fixed;bottom:24px;right:24px;
    background:#004080;color:#fff;font-weight:bold;
    padding:0.8rem 1.2rem;border:none;border-radius:50px;
    cursor:pointer;box-shadow:0 4px 10px rgba(0,0,0,0.25);
    opacity:0;pointer-events:none;transition:opacity 0.4s ease;
    z-index:999;
  }
  #exitPresentation.show{opacity:1;pointer-events:auto;}
  #exitPresentation:hover{background:#002a5c;box-shadow:0 0 12px rgba(0,64,128,0.6);}
</style>
</head>

<body>
<!-- LOADER -->
<div id="loader">
  <img src="dt_senai.png" alt="Logo Distrito Tecnol√≥gico SENAI-SP">
  <span>Carregando <strong>Radar ‚Äì Horizontes...</strong></span>
</div>

<!-- MENU -->
<nav class="menu" id="sideMenu">
  <h2>MENU</h2>
  <a href="#" id="btnShowAll">Mostrar Todos</a>
  <a href="#" id="btnHideAll">Ocultar Todos</a>
  <a href="#" id="btnTop10">Top 10</a>
  <a href="#" id="btnToggleLegend">üóÇÔ∏è Alternar Legenda</a>
  <a href="#" id="btnToggleView">üìä Modo Apresenta√ß√£o</a>

  <h2>Horizontes</h2>
  <a href="#" id="btnH1" class="h1">H1</a>
  <a href="#" id="btnH2" class="h2">H2</a>
  <a href="#" id="btnH3" class="h3">H3</a>

  <h2>Grupos</h2>
  <a href="#" id="btnG1">Obras de Infraestrutura</a>
  <a href="#" id="btnG2">Digitaliza√ß√£o da Constru√ß√£o</a>
  <a href="#" id="btnG3">Constru√ß√£o Industrializada</a>
  <a href="#" id="btnG4">Desempenho, Seguran√ßa, Conforto Ac√∫stico e T√©rmico</a>
  <a href="#" id="btnG5">Servi√ßos para Construtoras</a>
  <a href="#" id="btnG6">Materiais Sustent√°veis</a>

  <h2>Tipos</h2>
  <a href="#" id="btnASD">ASD</a>
  <a href="#" id="btnPDI">PDI</a>
  <a href="#" id="btnMTG">MTG</a>

  <h2>Buscar</h2>
  <input id="search" type="text" placeholder="Filtrar por nome do projeto‚Ä¶" />

  <a href="https://tirggo.github.io/home-page/#" class="voltar">‚üµ Voltar</a>
</nav>

<header>
  <span>INSTITUTO SENAI DE TECNOLOGIA DA CONSTRU√á√ÉO CIVIL - SENAI-SP</span>
  <div class="controls">
    <button onclick="window.print()">üìÑ Exportar PDF</button>
    <a href="https://tirggo.github.io/home-page/#" class="logo-link">
      <img src="dt_senai.png" alt="Logo Distrito Tecnol√≥gico SENAI-SP">
    </a>
  </div>
</header>

<main>
  <div class="panel">
    <div class="legend">
      <span class="badge"><i style="background:linear-gradient(135deg,#d81e05,#ff5b3c)"></i>H1</span>
      <span class="badge"><i style="background:linear-gradient(135deg,#005fb8,#1e90ff)"></i>H2</span>
      <span class="badge"><i style="background:linear-gradient(135deg,#006400,#00a000)"></i>H3</span>
    </div>
    <div id="chart"></div>
    <div class="meta">‚Ä¢ Clique na legenda para ligar/desligar cada projeto. ‚Ä¢ Eixo radial: 0‚Äì5.</div>
  </div>
</main>

<footer>
  <strong>Distrito Tecnol√≥gico do SENAI-SP</strong><br>
  Desenvolvido pelo Distrito Tecnol√≥gico do SENAI-SP ‚Äî Unidade S√£o Bernardo do Campo<br>
  ¬© 2025 | Infogr√°fico p√∫blico para fins institucionais e educacionais
</footer>

<button id="exitPresentation">üîô Sair do modo apresenta√ß√£o</button>

<script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
<script>
window.addEventListener("load",()=>{
  const loader=document.getElementById("loader");
  loader.style.animation="fadeOut 0.8s ease forwards";
  setTimeout(()=>loader.remove(),800);
  setTimeout(buildRadar,900);
});

function buildRadar(){
  const exitBtn=document.getElementById('exitPresentation');
  const menu=document.getElementById('sideMenu');
  let showLegend=true;

  // === DADOS COMPLETOS (22 projetos) ===
  const criteria=["Complexidade","Know-How","Abrang√™ncia","Relev√¢ncia","Retorno"];
  const projects=[
"1 - Ensaios de Resist√™ncia e Rea√ß√£o ao Fogo em Sistemas Construtivos Comerciais e Industriais",
"2 - Ensaios Ac√∫sticos e de Estanqueidade para Edifica√ß√µes Comerciais, Educacionais e de Sa√∫de",
"3 - Rota Tecnol√≥gica para Valoriza√ß√£o de Lodo de ETE em produtos de constru√ß√£o",
"4 - An√°lise e Especifica√ß√£o de Materiais Sustent√°veis e de Baixo Carbono para empreendimentos",
"5 - Assessoria em canteiro Lean Otimizado",
"6 - Assessoria para cria√ß√£o de processos otimizados de implementa√ß√£o de constru√ß√£o modular e pr√©-fabricada",
"7 - Assessoria para an√°lise e valida√ß√£o de Materiais Sustent√°veis e BioConstru√ß√£o",
"8 - Assessoria em gest√£o de Ativos Preditiva (GAP)",
"9 - Assessoria para G√™meo Digital 'Lite' para Otimiza√ß√£o de Processos em PMEs da Constru√ß√£o Civil",
"10 - Gest√£o Inteligente da √Ågua em Obras Urbanas",
"11 - Assessoria para ado√ß√£o de tecnologias digitais para Obras de Infraestruturas",
"12 - Assessoria em Desempenho Energ√©tico e H√≠drico com Foco em Resfriamento Passivo",
"13 - Assessoria de Smart Cities para gest√£o de grandes obras",
"14 - Assessoria em Conecta Canteiro 4.0",
"15 - Assessoria para G√™meos Digitais para Gest√£o H√≠drica e de Energia",
"16 - Desenvolver tecnologias e processos de constru√ß√£o modular e pr√©-fabricada para aumentar a produtividade",
"17 - Desenvolver um sistema de Superf√≠cies Perme√°veis Inteligentes para Resili√™ncia Urbana (Smart Permeable Surfaces)",
"18 - Sistema Construtivo PCV-Concreto com Pol√≠meros Sustent√°veis",
"19 - Assessoria para projetos de casa Inteligente em Condom√≠nios",
"20 - Plataforma para o Monitoramento Cont√≠nuo via G√™meos Digitais para Normas de Desempenhos",
"21 - Sistema Inteligente de Gest√£o H√≠drica e Capta√ß√£o e Reuso da √°gua pluvial urbano integrado",
"22 - PDI: Simulador Digital de Desempenho T√©rmico e Ac√∫stico Integrado √† NBR 15575"];
  const vals=[
[4,5,5,3,4],[4,3,4,3,4],[5,3,3,3,4],[5,3,3,3,3],[5,3,3,3,3],
[5,3,2,3,4],[5,3,2,4,3],[3,3,4,3,3],[3,3,3,3,4],[2,3,4,3,4],
[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[2,3,3,3,4],
[3,3,2,3,3],[2,3,4,3,2],[2,4,3,3,2],[2,3,3,3,2],[1,4,4,3,1],
[1,3,4,3,1],[1,3,2,3,1]];
  const colors=["#d81e05","#d81e05","#d81e05","#d81e05","#d81e05","#d81e05","#d81e05",
"#005fb8","#005fb8","#006400","#d81e05","#005fb8","#005fb8","#005fb8","#005fb8",
"#005fb8","#005fb8","#005fb8","#005fb8","#006400","#005fb8","#005fb8"];
  const grupos=[4,4,6,6,5,3,6,5,2,1,1,4,2,5,2,3,6,6,2,2,1,4];
  const tipos=["MTG","MTG","PDI","ASD","ASD","ASD","ASD","ASD","ASD","PDI",
"ASD","ASD","ASD","ASD","ASD","PDI","PDI","PDI","ASD","PDI","PDI","PDI"];

  const theta=criteria.concat([criteria[0]]);
  const traces=projects.map((n,i)=>{
    const r0=vals[i],r=r0.concat([r0[0]]);
    return{type:'scatterpolar',r,theta,name:n,fill:'toself',opacity:0.3,
           line:{width:1,color:colors[i]},fillcolor:colors[i]+'33'};
  });

  const layout={
    margin:{l:30,r:30,t:10,b:10},
    showlegend:true,
    legend:{font:{size:11},orientation:'h',x:0,y:-0.3,itemwidth:220,bgcolor:'rgba(255,255,255,0.9)'},
    polar:{radialaxis:{range:[0,5],dtick:1}}
  };
  Plotly.newPlot('chart',traces,layout,{responsive:true,displaylogo:false});

  const idx=[...Array(projects.length).keys()];
  const filterBy=(arr,val)=>Plotly.restyle('chart','visible',arr.map(v=>v===val?true:'legendonly'));
  document.getElementById('btnShowAll').onclick=()=>Plotly.restyle('chart','visible',true,idx);
  document.getElementById('btnHideAll').onclick=()=>Plotly.restyle('chart','visible','legendonly',idx);
  document.getElementById('btnTop10').onclick=()=>{Plotly.restyle('chart','visible','legendonly',idx);Plotly.restyle('chart','visible',true,idx.slice(0,10));};
  document.getElementById('btnH1').onclick=()=>filterBy(colors,'#d81e05');
  document.getElementById('btnH2').onclick=()=>filterBy(colors,'#005fb8');
  document.getElementById('btnH3').onclick=()=>filterBy(colors,'#006400');
  document.getElementById('btnG1').onclick=()=>filterBy(grupos,1);
  document.getElementById('btnG2').onclick=()=>filterBy(grupos,2);
  document.getElementById('btnG3').onclick=()=>filterBy(grupos,3);
  document.getElementById('btnG4').onclick=()=>filterBy(grupos,4);
  document.getElementById('btnG5').onclick=()=>filterBy(grupos,5);
  document.getElementById('btnG6').onclick=()=>filterBy(grupos,6);
  document.getElementById('btnASD').onclick=()=>filterBy(tipos,'ASD');
  document.getElementById('btnPDI').onclick=()=>filterBy(tipos,'PDI');
  document.getElementById('btnMTG').onclick=()=>filterBy(tipos,'MTG');

  document.getElementById('btnToggleLegend').onclick=()=>{
    showLegend=!showLegend;
    Plotly.relayout('chart',{showlegend:showLegend});
  };

  // === MODO APRESENTA√á√ÉO ===
  document.getElementById('btnToggleView').onclick=()=>{
    const body=document.body;
    body.classList.toggle('full');
    menu.classList.toggle('hidden');
    const full=body.classList.contains('full');
    showLegend=!full;
    Plotly.relayout('chart',{showlegend:showLegend});
    exitBtn.classList.toggle('show',full);
  };
  exitBtn.onclick=()=>{
    document.body.classList.remove('full');
    menu.classList.remove('hidden');
    showLegend=true;
    Plotly.relayout('chart',{showlegend:true});
    exitBtn.classList.remove('show');
  };
  // tecla ESC
  document.addEventListener('keydown',e=>{
    if(e.key==="Escape" && document.body.classList.contains('full')) exitBtn.click();
  });
}
</script>
</body>
</html>
