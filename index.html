<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Radar – Horizontes | Instituto SENAI-SP</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:"Segoe UI",sans-serif;
  background:#f9f9f9;color:#333;
  overflow-x:hidden;
  min-height:100vh;
}

/* ===== LOADER ===== */
#loader {
  position:fixed;top:0;left:0;width:100%;height:100vh;
  background:linear-gradient(180deg,#004080 0%,#0a589b 100%);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  color:#fff;z-index:1000;
}
#loader img {height:90px;width:auto;margin-bottom:16px;filter:drop-shadow(0 0 8px rgba(255,255,255,0.6));animation:pulse 2s infinite ease-in-out;}
#loader span {font-size:1rem;letter-spacing:0.5px;}
@keyframes fadeOut {from{opacity:1}to{opacity:0;visibility:hidden}}
@keyframes pulse {0%,100%{transform:scale(1);opacity:1;}50%{transform:scale(1.05);opacity:0.85;}}

/* ===== MENU ===== */
nav.menu{
  position:fixed;top:0;left:0;width:200px;height:100vh;
  background:#f1f5f9;border-right:2px solid #dde1e4;
  padding:0.8rem 0.6rem 1rem 0.6rem;
  display:flex;flex-direction:column;gap:0.4rem;
  z-index:100;overflow-y:auto;
  scrollbar-width:thin;scrollbar-color:#004080 #f1f5f9;
  transition:transform 0.4s ease;
}
nav.menu::-webkit-scrollbar{width:6px;}
nav.menu::-webkit-scrollbar-thumb{background:#004080;border-radius:6px;}
nav.menu::-webkit-scrollbar-track{background:#f1f5f9;}
nav.menu h2{text-align:center;color:#004080;font-size:0.9rem;margin:0.4rem 0;}
nav.menu a{
  display:block;text-decoration:none;text-align:center;
  padding:0.5rem;border-radius:6px;margin-bottom:0.3rem;
  font-size:0.85rem;transition:all .2s;width:100%;
  border:1px solid #cbd5e1;background:#fff;
}
nav.menu a:hover{transform:translateX(2px);box-shadow:0 0 4px rgba(0,0,0,0.15);}
nav.menu a.h1{background:linear-gradient(135deg,#d81e05,#ff5b3c);color:#fff;border:none;}
nav.menu a.h2{background:linear-gradient(135deg,#005fb8,#1e90ff);color:#fff;border:none;}
nav.menu a.h3{background:linear-gradient(135deg,#006400,#00a000);color:#fff;border:none;}
nav.menu .voltar{margin-top:auto;background:#004080;color:#fff;font-weight:bold;border-radius:8px;padding:0.6rem;text-align:center;box-shadow:0 2px 4px rgba(0,0,0,0.15);}
nav.menu .voltar:hover{background:#003366;box-shadow:0 0 10px rgba(0,64,128,0.6);}
nav.menu.hidden{transform:translateX(-220px);}

/* ===== BOTÃO FLUTUANTE MENU ===== */
#menuToggle {
  position: fixed;
  top: 14px;
  left: 14px;
  background: #004080;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 8px 12px;
  font-weight: bold;
  cursor: pointer;
  z-index: 200;
  box-shadow: 0 3px 6px rgba(0,0,0,0.25);
  transition: all 0.3s ease;
}
#menuToggle:hover {background:#003366;box-shadow:0 0 8px rgba(0,64,128,0.6);}
body.full #menuToggle{opacity:0.9;pointer-events:auto;display:block;}

/* ===== CABEÇALHO ===== */
header{
  background:#004080;color:#fff;
  display:flex;justify-content:space-between;align-items:center;
  padding:0.5rem 2rem;margin-left:200px;height:70px;
}
header span{font-weight:bold;font-size:1rem;}
header a.logo-link img{height:70px;width:auto;}

/* ===== CONTEÚDO ===== */
main{flex:1;padding:2rem;margin-left:200px;}
.panel{
  background:#fff;border:1px solid #e0e0e0;border-radius:10px;
  padding:16px;box-shadow:0 4px 10px rgba(0,0,0,.05);
}
#chart{width:100%;height:780px;}
.legend{display:flex;gap:10px;font-size:12px;color:#374151;margin-bottom:6px;}
.badge{display:inline-flex;align-items:center;gap:6px}
.badge i{width:12px;height:12px;border-radius:3px}

/* ===== RODAPÉ ===== */
footer{
  background:#eee;color:#555;text-align:center;font-size:.85rem;
  padding:1rem;margin-left:200px;
}

/* ===== MODO APRESENTAÇÃO ===== */
body.full nav.menu{transform:translateX(-220px);}
body.full footer,body.full header{display:none;}
body.full #chart{height:90vh;}
body.full .legend{display:none;}
body.full main{margin-left:0;padding:1rem;}
</style>
</head>

<body>
<!-- BOTÃO FLUTUANTE MENU -->
<button id="menuToggle">☰ Menu</button>

<!-- LOADER -->
<div id="loader">
  <img src="dt_senai.png" alt="Logo Distrito Tecnológico SENAI-SP">
  <span>Carregando <strong>Radar – Horizontes...</strong></span>
</div>

<!-- MENU -->
<nav class="menu" id="sideMenu">
  <h2>MENU</h2>
  <a href="#" id="btnShowAll">Mostrar Todos</a>
  <a href="#" id="btnHideAll">Ocultar Todos</a>
  <a href="#" id="btnTop10">Top 10</a>
  <a href="#" id="btnPresentation">Modo Apresentação</a>

  <h2>Horizontes</h2>
  <a href="#" id="btnH1" class="h1">H1</a>
  <a href="#" id="btnH2" class="h2">H2</a>
  <a href="#" id="btnH3" class="h3">H3</a>

  <h2>Grupos</h2>
  <a href="#" id="btnG1">Obras de Infraestrutura</a>
  <a href="#" id="btnG2">Digitalização da Construção</a>
  <a href="#" id="btnG3">Construção Industrializada</a>
  <a href="#" id="btnG4">Desempenho, Segurança, Conforto Acústico e Térmico</a>
  <a href="#" id="btnG5">Serviços para Construtoras</a>
  <a href="#" id="btnG6">Materiais Sustentáveis</a>

  <a href="https://tirggo.github.io/home-page/#" class="voltar">⟵ Voltar</a>
</nav>

<!-- CABEÇALHO -->
<header>
  <span>INSTITUTO SENAI DE TECNOLOGIA DA CONSTRUÇÃO CIVIL - SENAI-SP</span>
  <a href="https://tirggo.github.io/home-page/#" class="logo-link">
    <img src="dt_senai.png" alt="Logo Distrito Tecnológico SENAI-SP">
  </a>
</header>

<!-- CONTEÚDO -->
<main>
  <div class="panel">
    <div class="legend">
      <span class="badge"><i style="background:linear-gradient(135deg,#d81e05,#ff5b3c)"></i>H1</span>
      <span class="badge"><i style="background:linear-gradient(135deg,#005fb8,#1e90ff)"></i>H2</span>
      <span class="badge"><i style="background:linear-gradient(135deg,#006400,#00a000)"></i>H3</span>
    </div>
    <div id="chart"></div>
    <div class="meta">• Clique na legenda para ligar/desligar cada projeto. • Eixo radial: 0–5.</div>
  </div>
</main>

<footer>
  <strong>Distrito Tecnológico do SENAI-SP</strong><br>
  Desenvolvido pelo Distrito Tecnológico do SENAI-SP — Unidade São Bernardo do Campo<br>
  © 2025 | Infográfico público para fins institucionais e educacionais
</footer>

<!-- Plotly -->
<script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded",()=>{
  const loader=document.getElementById("loader");
  setTimeout(()=>{loader.style.animation="fadeOut 0.8s ease forwards";setTimeout(()=>loader.remove(),800);},1000);
  buildRadar();
});

function buildRadar(){
  const criteria=["Complexidade","Know-How","Abrangência","Relevância","Retorno"];
  const projects=[
    "1 - Ensaios de Resistência e Reação ao Fogo em Sistemas Construtivos Comerciais e Industriais",
    "2 - Ensaios Acústicos e de Estanqueidade para Edificações Comerciais, Educacionais e de Saúde",
    "3 - Rota Tecnológica para Valorização de Lodo de ETE em produtos de construção",
    "4 - Análise e Especificação de Materiais Sustentáveis e de Baixo Carbono para empreendimentos",
    "5 - Assessoria em canteiro Lean Otimizado",
    "6 - Assessoria para criacao de processos otimizados de implementação de construção modular e pré-fabricada",
    "7 - Assessoria para analise e validação de Materiais Sustentáveis e BioConstrução",
    "8 - Assessoria em gestão de Ativos Preditiva (GAP)",
    "9 - Assessoria para Gêmeo Digital \"Lite\" para Otimização de ProcessOS em PMEs da Construção Civil",
    "10 - Gestão Inteligente da Água em Obras UrbanAS",
    "11 - Assessoria para adoção de tecnologias digitais para Obras de Infraestruturas",
    "12 - Assessoria em Desempenho Energético e Hídrico com Foco em Resfriamento Passivo",
    "13 - Assessoria de Smart Cities para getão de grandes de obra",
    "14 - Assessoria em Conecta Canteiro 4.0",
    "15 - Assessoria para Gêmeos Digitais para Gestão Hídrica e de Energia",
    "16 - Desenvolver tecnologias e processos de construção modular e pré-fabricada para aumentar a produtividade",
    "17 - Desenvolver um sistema de Superfícies Permeáveis Inteligentes para Resiliência Urbana (Smart Permeable Surfaces)",
    "18 - Sistema Construtivo PCV-Concreto com Polímeros Sustentáveis",
    "19 - Assessoria para projetos de casa Inteligente em Condomínios",
    "20 - Plataforma para o Monitoramento Contínuo via Gêmeos Digitais para Normas de Desempenhos",
    "21 - Sistema Inteligente de Gestão Hídrica e Captação e Reuso da água pluvial urbano integrado",
    "22 - PDI: Simulador Digital de Desempenho Térmico e Acústico Integrado à NBR 15575"
  ];
  const vals=[
    [4,5,5,3,4],[4,3,4,3,4],[5,3,3,3,4],[5,3,3,3,3],[5,3,3,3,3],
    [5,3,2,3,4],[5,3,2,4,3],[3,3,4,3,3],[3,3,3,3,4],[2,3,4,3,4],
    [3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[2,3,3,3,4],
    [3,3,2,3,3],[2,3,4,3,2],[2,4,3,3,2],[2,3,3,3,2],[1,4,4,3,1],
    [1,3,4,3,1],[1,3,2,3,1]
  ];
  const colors=[
    "#d81e05","#d81e05","#d81e05","#d81e05","#d81e05","#d81e05","#d81e05","#005fb8","#005fb8","#006400",
    "#d81e05","#005fb8","#005fb8","#005fb8","#005fb8","#005fb8","#005fb8","#005fb8","#005fb8","#006400",
    "#005fb8","#005fb8"
  ];
  const theta=criteria.concat([criteria[0]]);
  const traces=projects.map((n,i)=>({type:"scatterpolar",r:vals[i].concat([vals[i][0]]),theta,name:n,fill:"toself",opacity:0.3,line:{width:1,color:colors[i]},fillcolor:colors[i]+"33"}));
  const layout={margin:{l:30,r:30,t:10,b:10},showlegend:true,polar:{radialaxis:{range:[0,5],dtick:1}}};
  Plotly.newPlot("chart",traces,layout,{responsive:true,displaylogo:false});

  // === Filtros e interação ===
  const btn=(id,fn)=>document.getElementById(id).addEventListener("click",fn);
  const visibleAll=Array(traces.length).fill(true);
  const hideAll=Array(traces.length).fill("legendonly");
  btn("btnShowAll",()=>Plotly.restyle("chart","visible",visibleAll));
  btn("btnHideAll",()=>Plotly.restyle("chart","visible",hideAll));
  btn("btnTop10",()=>{Plotly.restyle("chart","visible",hideAll);Plotly.restyle("chart","visible",Array(10).fill(true));});
  const filterColor=color=>{const vis=colors.map(c=>c===color);Plotly.restyle("chart","visible",vis);};
  btn("btnH1",()=>filterColor("#d81e05"));
  btn("btnH2",()=>filterColor("#005fb8"));
  btn("btnH3",()=>filterColor("#006400"));

  // === Modo apresentação ===
  const body=document.body;
  btn("btnPresentation",()=>{togglePresentation();});
  document.addEventListener("keydown",e=>{
    if(e.key==="Escape"&&body.classList.contains("full")){exitFullscreen();body.classList.remove("full");}
  });
}

/* === Botão Menu === */
const menuBtn=document.getElementById("menuToggle");
const sideMenu=document.getElementById("sideMenu");
menuBtn.addEventListener("click",()=>{sideMenu.classList.toggle("show");});
document.addEventListener("click",e=>{
  if(!sideMenu.contains(e.target)&&!menuBtn.contains(e.target)&&sideMenu.classList.contains("show")){
    sideMenu.classList.remove("show");
  }
});

/* === Funções de Tela Cheia === */
function togglePresentation(){
  const body=document.body;
  if(!body.classList.contains("full")){
    body.classList.add("full");
    openFullscreen(document.documentElement);
    Plotly.relayout("chart",{showlegend:false});
  }else{
    exitFullscreen();
    body.classList.remove("full");
    Plotly.relayout("chart",{showlegend:true});
  }
}

function openFullscreen(elem){if(elem.requestFullscreen){elem.requestFullscreen();}else if(elem.webkitRequestFullscreen){elem.webkitRequestFullscreen();}else if(elem.msRequestFullscreen){elem.msRequestFullscreen();}}
function exitFullscreen(){if(document.exitFullscreen){document.exitFullscreen();}else if(document.webkitExitFullscreen){document.webkitExitFullscreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}}
</script>
</body>
</html>
